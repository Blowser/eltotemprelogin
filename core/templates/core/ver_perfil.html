{% extends 'core/base.html' %}
{% load static %}
{% block content %}

<section class="container mt-5">
  <div class="perfil-clan p-4 rounded shadow">
    <h2 class="text-warning text-center">üßô Perfil del usuario</h2>
    <p><strong>Usuario:</strong> {{ usuario.user.username }}</p>
    <p><strong>Nombre:</strong> {{ usuario.nombre }} {{ usuario.apellido }}</p>
    <p><strong>Rol:</strong> {{ usuario.rol.tipo_rol }}</p>
    <p><strong>Fecha de creaci√≥n:</strong> {{ usuario.fecha_creacion|date:"d M Y H:i" }}</p>
  </div>

  <div class="metodo-pago mt-4 p-4 rounded shadow bg-light">
    <h3 class="text-primary">üí≥ M√©todo de pago</h3>
    {% if metodo %}
      <p><strong>Tipo:</strong> {{ metodo.tipo }}</p>
      <p><strong>Detalle:</strong> {{ metodo.detalle }}</p>
      <p><strong>Estado:</strong> {{ metodo.estado }}</p>
      <a href="{% url 'editar_metodo_pago' %}" class="btn btn-outline-warning">Modificar m√©todo de pago</a>
    {% else %}
      <p class="text-muted">No tienes m√©todo de pago registrado.</p>
      <a href="{% url 'agregar_metodo_pago' %}" class="btn btn-success">Agregar m√©todo de pago</a>
    {% endif %}
  </div>

  <div class="finalizar-compra mt-4 text-center">
    <form method="post" action="{% url 'finalizar_compra' %}">
      {% csrf_token %}
      <button type="submit" class="btn btn-success btn-lg">Finalizar compra</button>
    </form>
  </div>
</section>

{% endblock %}
